-- ================================================================
-- 94CramManageSystem Demo Data Seed Script
-- ================================================================
-- Target: 94platform database (PostgreSQL)
-- Tenant: 愛學館 (11111111-1111-1111-1111-111111111111)
-- Run:    psql $DATABASE_URL -f scripts/seed-demo-data.sql
-- ================================================================

BEGIN;

-- ================================================================
-- UUID Reference Map
-- ================================================================
-- Tenant:     11111111-1111-1111-1111-111111111111 (愛學館)
-- Branch 1:   b0000001-0001-0001-0001-000000000001 (大安總校)
-- Branch 2:   b0000002-0002-0002-0002-000000000002 (信義分校)
-- Branch 3:   b0000003-0003-0003-0003-000000000003 (板橋分校)
-- Admin User: a0000001-0000-0000-0000-000000000001 (陳大利)
-- Staff User: a0000001-0000-0000-0000-000000000002 (王美玲)
-- Teachers:   a1000001-0000-0000-0000-000000000001 ~ 008
-- Courses:    c0000001-0000-0000-0000-000000000001 ~ 010
-- Students:   d0000001-0000-0000-0000-000000000001 ~ 030 (陳小睿=001)
-- Enrollments:e0000001-0000-0000-0000-000000000001 ~ 044
-- Exams:      ee000001-0000-0000-0000-000000000001 ~ 006
-- ================================================================

-- ================================================================
-- 1. TENANTS (租戶)
-- ================================================================

INSERT INTO tenants (id, name, slug, trial_status, trial_start_at, trial_end_at, created_at, updated_at)
VALUES (
  '11111111-1111-1111-1111-111111111111',
  '愛學館',
  'aixueguan',
  'approved',
  '2025-09-01 00:00:00',
  '2026-08-31 00:00:00',
  '2025-09-01 00:00:00',
  '2026-02-01 00:00:00'
)
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  slug = EXCLUDED.slug,
  trial_status = EXCLUDED.trial_status,
  updated_at = EXCLUDED.updated_at;

-- ================================================================
-- 2. BRANCHES (分校)
-- ================================================================

INSERT INTO branches (id, tenant_id, name, address, phone, created_at)
VALUES
  (
    'b0000001-0001-0001-0001-000000000001',
    '11111111-1111-1111-1111-111111111111',
    '愛學館1 大安總校',
    '台北市大安區復興南路二段100號',
    '02-2700-1001',
    '2025-09-01 00:00:00'
  ),
  (
    'b0000002-0002-0002-0002-000000000002',
    '11111111-1111-1111-1111-111111111111',
    '愛學館2 信義分校',
    '台北市信義區松仁路50號',
    '02-2720-1002',
    '2025-09-01 00:00:00'
  ),
  (
    'b0000003-0003-0003-0003-000000000003',
    '11111111-1111-1111-1111-111111111111',
    '愛學館3 板橋分校',
    '新北市板橋區文化路一段200號',
    '02-2960-1003',
    '2025-09-01 00:00:00'
  )
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  address = EXCLUDED.address,
  phone = EXCLUDED.phone;

-- ================================================================
-- 3. USERS (使用者)
-- ================================================================

INSERT INTO users (id, tenant_id, branch_id, username, email, password_hash, name, role, permissions, is_active, created_at, updated_at)
VALUES
  (
    'a0000001-0000-0000-0000-000000000001',
    '11111111-1111-1111-1111-111111111111',
    'b0000001-0001-0001-0001-000000000001',
    'demo_admin',
    'demo@94cram.com',
    '$2b$10$NiCrfPn0c0ZUHGKzoIM2lOxtqe0hz0WfduVUvC2/IfV2cd3EqQ8zK',
    '陳大利',
    'admin',
    ARRAY['manage:admin', 'inclass:admin', 'stock:admin'],
    true,
    '2025-09-01 00:00:00',
    '2025-09-01 00:00:00'
  ),
  (
    'a0000001-0000-0000-0000-000000000002',
    '11111111-1111-1111-1111-111111111111',
    'b0000001-0001-0001-0001-000000000001',
    'demo_staff',
    'staff@94cram.com',
    '$2b$10$NiCrfPn0c0ZUHGKzoIM2lOxtqe0hz0WfduVUvC2/IfV2cd3EqQ8zK',
    '王美玲',
    'staff',
    ARRAY['manage:read', 'manage:write', 'inclass:read', 'inclass:write'],
    true,
    '2025-09-01 00:00:00',
    '2025-09-01 00:00:00'
  )
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  email = EXCLUDED.email,
  role = EXCLUDED.role,
  permissions = EXCLUDED.permissions,
  is_active = EXCLUDED.is_active;

-- ================================================================
-- 4. MANAGE_COURSES (課程)
-- ================================================================

INSERT INTO manage_courses (id, tenant_id, name, subject, grade, price, fee_monthly, fee_quarterly, fee_semester, fee_yearly, hours, created_at)
VALUES
  ('c0000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', '國小數學基礎班', '數學', '國小', 4000, 4000, 11500, 22000, 42000, 8, '2025-09-01'),
  ('c0000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', '國中數學衝刺班', '數學', '國中', 5000, 5000, 14500, 28000, 54000, 8, '2025-09-01'),
  ('c0000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', '國中英文會話班', '英文', '國中', 4500, 4500, 13000, 25000, 48000, 8, '2025-09-01'),
  ('c0000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', '高中物理精修班', '物理', '高中', 6500, 6500, 18800, 36000, 70000, 8, '2025-09-01'),
  ('c0000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', '高中化學精修班', '化學', '高中', 6500, 6500, 18800, 36000, 70000, 8, '2025-09-01'),
  ('c0000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', '高中數學進階班', '數學', '高中', 7000, 7000, 20000, 38000, 74000, 8, '2025-09-01'),
  ('c0000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', '國小英文啟蒙班', '英文', '國小', 4000, 4000, 11500, 22000, 42000, 8, '2025-09-01'),
  ('c0000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', '國中理化概念班', '物理', '國中', 5000, 5000, 14500, 28000, 54000, 8, '2025-09-01'),
  ('c0000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', '高中國文作文班', '國文', '高中', 5500, 5500, 15800, 30000, 58000, 8, '2025-09-01'),
  ('c0000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', '國中生物探索班', '生物', '國中', 4800, 4800, 13800, 26500, 51000, 8, '2025-09-01')
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  subject = EXCLUDED.subject,
  grade = EXCLUDED.grade,
  fee_monthly = EXCLUDED.fee_monthly;

-- ================================================================
-- 5. MANAGE_TEACHERS (老師)
-- ================================================================

INSERT INTO manage_teachers (id, tenant_id, user_id, name, phone, email, expertise, hourly_rate, created_at)
VALUES
  ('a1000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', NULL, '林志明', '0912-100-001', 'lin.zhiming@aixueguan.com', '數學、高中數學', 850, '2025-09-01'),
  ('a1000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', NULL, '陳雅婷', '0912-100-002', 'chen.yating@aixueguan.com', '英文、英文會話', 800, '2025-09-01'),
  ('a1000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', NULL, '張偉誠', '0912-100-003', 'zhang.weicheng@aixueguan.com', '物理、高中物理', 900, '2025-09-01'),
  ('a1000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', NULL, '劉佳蓉', '0912-100-004', 'liu.jiarong@aixueguan.com', '化學、高中化學', 880, '2025-09-01'),
  ('a1000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', NULL, '王建國', '0912-100-005', 'wang.jianguo@aixueguan.com', '數學、國小國中數學', 750, '2025-09-01'),
  ('a1000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', NULL, '蔡淑芬', '0912-100-006', 'cai.shufen@aixueguan.com', '國文、高中作文', 780, '2025-09-01'),
  ('a1000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', NULL, '許志豪', '0912-100-007', 'xu.zhihao@aixueguan.com', '生物、國中理化', 800, '2025-09-01'),
  ('a1000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', NULL, '黃雅琪', '0912-100-008', 'huang.yaqi@aixueguan.com', '英文、國小英文啟蒙', 750, '2025-09-01')
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  expertise = EXCLUDED.expertise,
  hourly_rate = EXCLUDED.hourly_rate;

-- ================================================================
-- 6. MANAGE_STUDENTS (學生) - 30 students
-- ================================================================

INSERT INTO manage_students (id, tenant_id, name, phone, email, grade, school, guardian_name, guardian_phone, status, created_at)
VALUES
  -- #001 主角：陳小睿
  ('d0000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', '陳小睿', '0912-888-001', 'xiaorui.chen@mail.com', '七年級', '台北市立大安國中', '陳大利', '0912-888-001', 'active', '2025-09-01'),
  -- 國小生 (4-6年級)
  ('d0000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', '林小萱', '0923-001-002', NULL, '四年級', '台北市大安國小', '林秀美', '0923-001-002', 'active', '2025-09-02'),
  ('d0000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', '黃俊凱', '0934-002-003', NULL, '五年級', '台北市大安國小', '黃志明', '0934-002-003', 'active', '2025-09-02'),
  ('d0000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', '張雅文', '0945-003-004', NULL, '六年級', '台北市信義國小', '張淑芬', '0945-003-004', 'active', '2025-09-03'),
  ('d0000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', '王品翰', '0956-004-005', NULL, '五年級', '台北市信義國小', '王建仁', '0956-004-005', 'active', '2025-09-03'),
  ('d0000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', '李佳蓉', '0967-005-006', NULL, '六年級', '台北市大安國小', '李志成', '0967-005-006', 'active', '2025-09-04'),
  ('d0000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', '吳哲維', '0978-006-007', NULL, '四年級', '新北市板橋國小', '吳明華', '0978-006-007', 'active', '2025-09-04'),
  -- 國中生 (7-9年級)
  ('d0000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', '蔡宜庭', '0989-007-008', NULL, '八年級', '台北市立大安國中', '蔡明志', '0989-007-008', 'active', '2025-09-05'),
  ('d0000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', '周柏宇', '0912-008-009', NULL, '九年級', '台北市立建國中學附設國中', '周淑雯', '0912-008-009', 'active', '2025-09-05'),
  ('d0000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', '許雅惠', '0923-009-010', NULL, '七年級', '台北市立中正國中', '許建國', '0923-009-010', 'active', '2025-09-06'),
  ('d0000011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', '楊宗翰', '0934-010-011', NULL, '八年級', '台北市立大安國中', '楊淑美', '0934-010-011', 'active', '2025-09-06'),
  ('d0000012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', '鄭婉婷', '0945-011-012', NULL, '九年級', '台北市立信義國中', '鄭志強', '0945-011-012', 'active', '2025-09-07'),
  ('d0000013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', '劉俊賢', '0956-012-013', NULL, '七年級', '新北市立板橋國中', '劉雅芳', '0956-012-013', 'active', '2025-09-07'),
  ('d0000014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', '謝雅琪', '0967-013-014', NULL, '八年級', '台北市立信義國中', '謝明宏', '0967-013-014', 'active', '2025-09-08'),
  ('d0000015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', '方志豪', '0978-014-015', NULL, '九年級', '台北市立中正國中', '方淑芬', '0978-014-015', 'active', '2025-09-08'),
  ('d0000016-0000-0000-0000-000000000016', '11111111-1111-1111-1111-111111111111', '洪雅雯', '0989-015-016', NULL, '七年級', '新北市立板橋國中', '洪建志', '0989-015-016', 'active', '2025-09-09'),
  -- 高中生 (10-12年級)
  ('d0000017-0000-0000-0000-000000000017', '11111111-1111-1111-1111-111111111111', '徐家豪', '0912-016-017', NULL, '十年級', '台北市立建國高中', '徐淑美', '0912-016-017', 'active', '2025-09-09'),
  ('d0000018-0000-0000-0000-000000000018', '11111111-1111-1111-1111-111111111111', '葉芷瑜', '0923-017-018', NULL, '十一年級', '台北市立第一女子高中', '葉志明', '0923-017-018', 'active', '2025-09-10'),
  ('d0000019-0000-0000-0000-000000000019', '11111111-1111-1111-1111-111111111111', '莊哲銘', '0934-018-019', NULL, '十二年級', '台北市立建國高中', '莊淑芬', '0934-018-019', 'active', '2025-09-10'),
  ('d0000020-0000-0000-0000-000000000020', '11111111-1111-1111-1111-111111111111', '林雅玲', '0945-019-020', NULL, '十年級', '台北市立北一女中', '林建仁', '0945-019-020', 'active', '2025-09-11'),
  ('d0000021-0000-0000-0000-000000000021', '11111111-1111-1111-1111-111111111111', '蕭俊賢', '0956-020-021', NULL, '十一年級', '台北市立師大附中', '蕭志強', '0956-020-021', 'active', '2025-09-11'),
  ('d0000022-0000-0000-0000-000000000022', '11111111-1111-1111-1111-111111111111', '游宜庭', '0967-021-022', NULL, '十二年級', '台北市立北一女中', '游明宏', '0967-021-022', 'active', '2025-09-12'),
  ('d0000023-0000-0000-0000-000000000023', '11111111-1111-1111-1111-111111111111', '賴品翰', '0978-022-023', NULL, '十年級', '新北市立板橋高中', '賴淑美', '0978-022-023', 'active', '2025-09-12'),
  ('d0000024-0000-0000-0000-000000000024', '11111111-1111-1111-1111-111111111111', '鍾雅婷', '0989-023-024', NULL, '十一年級', '台北市立師大附中', '鍾建志', '0989-023-024', 'active', '2025-09-13'),
  -- 更多國中生
  ('d0000025-0000-0000-0000-000000000025', '11111111-1111-1111-1111-111111111111', '江志偉', '0912-024-025', NULL, '八年級', '台北市立大安國中', '江淑芬', '0912-024-025', 'active', '2025-09-13'),
  ('d0000026-0000-0000-0000-000000000026', '11111111-1111-1111-1111-111111111111', '邱雅文', '0923-025-026', NULL, '七年級', '台北市立信義國中', '邱志明', '0923-025-026', 'active', '2025-09-14'),
  ('d0000027-0000-0000-0000-000000000027', '11111111-1111-1111-1111-111111111111', '潘柏宇', '0934-026-027', NULL, '九年級', '新北市立板橋國中', '潘淑美', '0934-026-027', 'active', '2025-09-14'),
  ('d0000028-0000-0000-0000-000000000028', '11111111-1111-1111-1111-111111111111', '盧佳蓉', '0945-027-028', NULL, '七年級', '台北市立中正國中', '盧建仁', '0945-027-028', 'active', '2025-09-15'),
  -- 2 inactive
  ('d0000029-0000-0000-0000-000000000029', '11111111-1111-1111-1111-111111111111', '高宗翰', '0956-028-029', NULL, '八年級', '台北市立大安國中', '高志強', '0956-028-029', 'inactive', '2025-09-15'),
  ('d0000030-0000-0000-0000-000000000030', '11111111-1111-1111-1111-111111111111', '田雅惠', '0967-029-030', NULL, '六年級', '台北市大安國小', '田明宏', '0967-029-030', 'inactive', '2025-09-16')
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  grade = EXCLUDED.grade,
  status = EXCLUDED.status;

COMMIT;

BEGIN;

-- ================================================================
-- 7. MANAGE_ENROLLMENTS (~44 enrollments)
-- ================================================================

INSERT INTO manage_enrollments (id, tenant_id, student_id, course_id, start_date, end_date, status, created_at)
VALUES
  -- 陳小睿 (s001) -> 國中數學衝刺班 (c002) + 國中英文會話班 (c003)
  ('e0000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', '2025-09-01', NULL, 'active', '2025-09-01'),
  ('e0000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', '2025-09-01', NULL, 'active', '2025-09-01'),
  -- 國小數學基礎班 (c001) students: s002, s003, s004, s005, s006, s007
  ('e0000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000001-0000-0000-0000-000000000001', '2025-09-02', NULL, 'active', '2025-09-02'),
  ('e0000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'd0000003-0000-0000-0000-000000000003', 'c0000001-0000-0000-0000-000000000001', '2025-09-02', NULL, 'active', '2025-09-02'),
  ('e0000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'd0000004-0000-0000-0000-000000000004', 'c0000001-0000-0000-0000-000000000001', '2025-09-03', NULL, 'active', '2025-09-03'),
  ('e0000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'd0000005-0000-0000-0000-000000000005', 'c0000001-0000-0000-0000-000000000001', '2025-09-03', NULL, 'active', '2025-09-03'),
  ('e0000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'd0000006-0000-0000-0000-000000000006', 'c0000001-0000-0000-0000-000000000001', '2025-09-04', NULL, 'active', '2025-09-04'),
  -- 國中數學衝刺班 (c002): s008, s009, s010, s011, s025
  ('e0000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', '2025-09-05', NULL, 'active', '2025-09-05'),
  ('e0000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'd0000009-0000-0000-0000-000000000009', 'c0000002-0000-0000-0000-000000000002', '2025-09-05', NULL, 'active', '2025-09-05'),
  ('e0000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', 'c0000002-0000-0000-0000-000000000002', '2025-09-06', NULL, 'active', '2025-09-06'),
  ('e0000011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', 'd0000011-0000-0000-0000-000000000011', 'c0000002-0000-0000-0000-000000000002', '2025-09-06', NULL, 'active', '2025-09-06'),
  ('e0000012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', 'd0000025-0000-0000-0000-000000000025', 'c0000002-0000-0000-0000-000000000002', '2025-09-13', NULL, 'active', '2025-09-13'),
  -- 國中英文會話班 (c003): s012, s013, s014, s026, s028
  ('e0000013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', 'd0000012-0000-0000-0000-000000000012', 'c0000003-0000-0000-0000-000000000003', '2025-09-07', NULL, 'active', '2025-09-07'),
  ('e0000014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', 'd0000013-0000-0000-0000-000000000013', 'c0000003-0000-0000-0000-000000000003', '2025-09-07', NULL, 'active', '2025-09-07'),
  ('e0000015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', 'd0000014-0000-0000-0000-000000000014', 'c0000003-0000-0000-0000-000000000003', '2025-09-08', NULL, 'active', '2025-09-08'),
  ('e0000016-0000-0000-0000-000000000016', '11111111-1111-1111-1111-111111111111', 'd0000026-0000-0000-0000-000000000026', 'c0000003-0000-0000-0000-000000000003', '2025-09-14', NULL, 'active', '2025-09-14'),
  ('e0000017-0000-0000-0000-000000000017', '11111111-1111-1111-1111-111111111111', 'd0000028-0000-0000-0000-000000000028', 'c0000003-0000-0000-0000-000000000003', '2025-09-15', NULL, 'active', '2025-09-15'),
  -- 高中物理精修班 (c004): s017, s018, s019, s021
  ('e0000018-0000-0000-0000-000000000018', '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000004-0000-0000-0000-000000000004', '2025-09-09', NULL, 'active', '2025-09-09'),
  ('e0000019-0000-0000-0000-000000000019', '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000004-0000-0000-0000-000000000004', '2025-09-10', NULL, 'active', '2025-09-10'),
  ('e0000020-0000-0000-0000-000000000020', '11111111-1111-1111-1111-111111111111', 'd0000019-0000-0000-0000-000000000019', 'c0000004-0000-0000-0000-000000000004', '2025-09-10', NULL, 'completed', '2025-09-10'),
  ('e0000021-0000-0000-0000-000000000021', '11111111-1111-1111-1111-111111111111', 'd0000021-0000-0000-0000-000000000021', 'c0000004-0000-0000-0000-000000000004', '2025-09-11', NULL, 'active', '2025-09-11'),
  -- 高中化學精修班 (c005): s018, s020, s022, s024
  ('e0000022-0000-0000-0000-000000000022', '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000005-0000-0000-0000-000000000005', '2025-09-10', NULL, 'active', '2025-09-10'),
  ('e0000023-0000-0000-0000-000000000023', '11111111-1111-1111-1111-111111111111', 'd0000020-0000-0000-0000-000000000020', 'c0000005-0000-0000-0000-000000000005', '2025-09-11', NULL, 'active', '2025-09-11'),
  ('e0000024-0000-0000-0000-000000000024', '11111111-1111-1111-1111-111111111111', 'd0000022-0000-0000-0000-000000000022', 'c0000005-0000-0000-0000-000000000005', '2025-09-12', NULL, 'active', '2025-09-12'),
  ('e0000025-0000-0000-0000-000000000025', '11111111-1111-1111-1111-111111111111', 'd0000024-0000-0000-0000-000000000024', 'c0000005-0000-0000-0000-000000000005', '2025-09-13', NULL, 'active', '2025-09-13'),
  -- 高中數學進階班 (c006): s017, s019, s021, s023
  ('e0000026-0000-0000-0000-000000000026', '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000006-0000-0000-0000-000000000006', '2025-09-09', NULL, 'active', '2025-09-09'),
  ('e0000027-0000-0000-0000-000000000027', '11111111-1111-1111-1111-111111111111', 'd0000019-0000-0000-0000-000000000019', 'c0000006-0000-0000-0000-000000000006', '2025-09-10', NULL, 'active', '2025-09-10'),
  ('e0000028-0000-0000-0000-000000000028', '11111111-1111-1111-1111-111111111111', 'd0000021-0000-0000-0000-000000000021', 'c0000006-0000-0000-0000-000000000006', '2025-09-11', NULL, 'active', '2025-09-11'),
  ('e0000029-0000-0000-0000-000000000029', '11111111-1111-1111-1111-111111111111', 'd0000023-0000-0000-0000-000000000023', 'c0000006-0000-0000-0000-000000000006', '2025-09-12', NULL, 'active', '2025-09-12'),
  -- 國小英文啟蒙班 (c007): s002, s005, s007
  ('e0000030-0000-0000-0000-000000000030', '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000007-0000-0000-0000-000000000007', '2025-09-02', NULL, 'active', '2025-09-02'),
  ('e0000031-0000-0000-0000-000000000031', '11111111-1111-1111-1111-111111111111', 'd0000005-0000-0000-0000-000000000005', 'c0000007-0000-0000-0000-000000000007', '2025-09-03', NULL, 'active', '2025-09-03'),
  ('e0000032-0000-0000-0000-000000000032', '11111111-1111-1111-1111-111111111111', 'd0000007-0000-0000-0000-000000000007', 'c0000007-0000-0000-0000-000000000007', '2025-09-04', NULL, 'active', '2025-09-04'),
  -- 國中理化概念班 (c008): s008, s015, s016, s027
  ('e0000033-0000-0000-0000-000000000033', '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000008-0000-0000-0000-000000000008', '2025-09-05', NULL, 'active', '2025-09-05'),
  ('e0000034-0000-0000-0000-000000000034', '11111111-1111-1111-1111-111111111111', 'd0000015-0000-0000-0000-000000000015', 'c0000008-0000-0000-0000-000000000008', '2025-09-08', NULL, 'active', '2025-09-08'),
  ('e0000035-0000-0000-0000-000000000035', '11111111-1111-1111-1111-111111111111', 'd0000016-0000-0000-0000-000000000016', 'c0000008-0000-0000-0000-000000000008', '2025-09-09', NULL, 'active', '2025-09-09'),
  ('e0000036-0000-0000-0000-000000000036', '11111111-1111-1111-1111-111111111111', 'd0000027-0000-0000-0000-000000000027', 'c0000008-0000-0000-0000-000000000008', '2025-09-14', NULL, 'active', '2025-09-14'),
  -- 高中國文作文班 (c009): s019, s022, s024
  ('e0000037-0000-0000-0000-000000000037', '11111111-1111-1111-1111-111111111111', 'd0000019-0000-0000-0000-000000000019', 'c0000009-0000-0000-0000-000000000009', '2025-09-10', NULL, 'completed', '2025-09-10'),
  ('e0000038-0000-0000-0000-000000000038', '11111111-1111-1111-1111-111111111111', 'd0000022-0000-0000-0000-000000000022', 'c0000009-0000-0000-0000-000000000009', '2025-09-12', NULL, 'active', '2025-09-12'),
  ('e0000039-0000-0000-0000-000000000039', '11111111-1111-1111-1111-111111111111', 'd0000024-0000-0000-0000-000000000024', 'c0000009-0000-0000-0000-000000000009', '2025-09-13', NULL, 'active', '2025-09-13'),
  -- 國中生物探索班 (c010): s010, s011, s012, s013, s016
  ('e0000040-0000-0000-0000-000000000040', '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', 'c0000010-0000-0000-0000-000000000010', '2025-09-06', NULL, 'active', '2025-09-06'),
  ('e0000041-0000-0000-0000-000000000041', '11111111-1111-1111-1111-111111111111', 'd0000011-0000-0000-0000-000000000011', 'c0000010-0000-0000-0000-000000000010', '2025-09-06', NULL, 'active', '2025-09-06'),
  ('e0000042-0000-0000-0000-000000000042', '11111111-1111-1111-1111-111111111111', 'd0000012-0000-0000-0000-000000000012', 'c0000010-0000-0000-0000-000000000010', '2025-09-07', NULL, 'active', '2025-09-07'),
  ('e0000043-0000-0000-0000-000000000043', '11111111-1111-1111-1111-111111111111', 'd0000013-0000-0000-0000-000000000013', 'c0000010-0000-0000-0000-000000000010', '2025-09-07', NULL, 'active', '2025-09-07'),
  ('e0000044-0000-0000-0000-000000000044', '11111111-1111-1111-1111-111111111111', 'd0000016-0000-0000-0000-000000000016', 'c0000010-0000-0000-0000-000000000010', '2025-09-09', NULL, 'active', '2025-09-09')
ON CONFLICT (id) DO UPDATE SET
  status = EXCLUDED.status;

-- ================================================================
-- 8. MANAGE_PAYMENTS (~35 payments)
-- ================================================================

INSERT INTO manage_payments (id, tenant_id, enrollment_id, amount, payment_method, paid_at, status, created_at)
VALUES
  -- 陳小睿's enrollments: e001 (數學), e002 (英文) - all paid
  ('d2000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'e0000001-0000-0000-0000-000000000001', 5000, 'transfer', '2025-09-01 10:00:00', 'paid', '2025-09-01'),
  ('d2000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'e0000001-0000-0000-0000-000000000001', 5000, 'transfer', '2025-10-01 10:00:00', 'paid', '2025-10-01'),
  ('d2000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'e0000001-0000-0000-0000-000000000001', 5000, 'transfer', '2025-11-01 10:00:00', 'paid', '2025-11-01'),
  ('d2000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'e0000002-0000-0000-0000-000000000002', 4500, 'transfer', '2025-09-01 10:30:00', 'paid', '2025-09-01'),
  ('d2000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'e0000002-0000-0000-0000-000000000002', 4500, 'transfer', '2025-10-01 10:30:00', 'paid', '2025-10-01'),
  ('d2000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'e0000002-0000-0000-0000-000000000002', 4500, 'transfer', '2025-11-01 10:30:00', 'paid', '2025-11-01'),
  -- 國小數學班 payments
  ('d2000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'e0000003-0000-0000-0000-000000000003', 4000, 'cash', '2025-09-02 09:00:00', 'paid', '2025-09-02'),
  ('d2000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'e0000004-0000-0000-0000-000000000004', 4000, 'cash', '2025-09-02 09:30:00', 'paid', '2025-09-02'),
  ('d2000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'e0000005-0000-0000-0000-000000000005', 4000, 'credit', '2025-09-03 14:00:00', 'paid', '2025-09-03'),
  ('d2000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'e0000006-0000-0000-0000-000000000006', 4000, 'cash', '2025-09-03 15:00:00', 'paid', '2025-09-03'),
  -- 國中數學衝刺班 payments (mix of paid/pending)
  ('d2000011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', 'e0000008-0000-0000-0000-000000000008', 5000, 'transfer', '2025-09-05 11:00:00', 'paid', '2025-09-05'),
  ('d2000012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', 'e0000009-0000-0000-0000-000000000009', 5000, 'cash', '2025-09-05 11:30:00', 'paid', '2025-09-05'),
  ('d2000013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', 'e0000010-0000-0000-0000-000000000010', 5000, NULL, NULL, 'pending', '2025-09-06'),
  ('d2000014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', 'e0000011-0000-0000-0000-000000000011', 5000, 'transfer', '2025-09-06 16:00:00', 'paid', '2025-09-06'),
  -- 高中物理班 payments
  ('d2000015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', 'e0000018-0000-0000-0000-000000000018', 6500, 'transfer', '2025-09-09 10:00:00', 'paid', '2025-09-09'),
  ('d2000016-0000-0000-0000-000000000016', '11111111-1111-1111-1111-111111111111', 'e0000019-0000-0000-0000-000000000019', 6500, 'credit', '2025-09-10 14:00:00', 'paid', '2025-09-10'),
  ('d2000017-0000-0000-0000-000000000017', '11111111-1111-1111-1111-111111111111', 'e0000021-0000-0000-0000-000000000021', 6500, NULL, NULL, 'pending', '2025-09-11'),
  -- 高中化學班 payments
  ('d2000018-0000-0000-0000-000000000018', '11111111-1111-1111-1111-111111111111', 'e0000022-0000-0000-0000-000000000022', 6500, 'transfer', '2025-09-10 10:00:00', 'paid', '2025-09-10'),
  ('d2000019-0000-0000-0000-000000000019', '11111111-1111-1111-1111-111111111111', 'e0000023-0000-0000-0000-000000000023', 6500, 'cash', '2025-09-11 09:00:00', 'paid', '2025-09-11'),
  ('d2000020-0000-0000-0000-000000000020', '11111111-1111-1111-1111-111111111111', 'e0000024-0000-0000-0000-000000000024', 6500, NULL, NULL, 'pending', '2025-09-12'),
  -- 高中數學進階班 payments
  ('d2000021-0000-0000-0000-000000000021', '11111111-1111-1111-1111-111111111111', 'e0000026-0000-0000-0000-000000000026', 7000, 'transfer', '2025-09-09 11:00:00', 'paid', '2025-09-09'),
  ('d2000022-0000-0000-0000-000000000022', '11111111-1111-1111-1111-111111111111', 'e0000027-0000-0000-0000-000000000027', 7000, 'credit', '2025-09-10 15:00:00', 'paid', '2025-09-10'),
  ('d2000023-0000-0000-0000-000000000023', '11111111-1111-1111-1111-111111111111', 'e0000028-0000-0000-0000-000000000028', 7000, NULL, NULL, 'pending', '2025-09-11'),
  -- 國小英文啟蒙班 payments
  ('d2000024-0000-0000-0000-000000000024', '11111111-1111-1111-1111-111111111111', 'e0000030-0000-0000-0000-000000000030', 4000, 'cash', '2025-09-02 10:00:00', 'paid', '2025-09-02'),
  ('d2000025-0000-0000-0000-000000000025', '11111111-1111-1111-1111-111111111111', 'e0000031-0000-0000-0000-000000000031', 4000, 'cash', '2025-09-03 10:00:00', 'paid', '2025-09-03'),
  -- 國中理化概念班 payments
  ('d2000026-0000-0000-0000-000000000026', '11111111-1111-1111-1111-111111111111', 'e0000033-0000-0000-0000-000000000033', 5000, 'transfer', '2025-09-05 12:00:00', 'paid', '2025-09-05'),
  ('d2000027-0000-0000-0000-000000000027', '11111111-1111-1111-1111-111111111111', 'e0000034-0000-0000-0000-000000000034', 5000, NULL, NULL, 'pending', '2025-09-08'),
  -- 高中國文作文班 payments
  ('d2000028-0000-0000-0000-000000000028', '11111111-1111-1111-1111-111111111111', 'e0000038-0000-0000-0000-000000000038', 5500, 'credit', '2025-09-12 13:00:00', 'paid', '2025-09-12'),
  ('d2000029-0000-0000-0000-000000000029', '11111111-1111-1111-1111-111111111111', 'e0000039-0000-0000-0000-000000000039', 5500, 'transfer', '2025-09-13 13:00:00', 'paid', '2025-09-13'),
  -- 國中生物探索班 payments
  ('d2000030-0000-0000-0000-000000000030', '11111111-1111-1111-1111-111111111111', 'e0000040-0000-0000-0000-000000000040', 4800, 'cash', '2025-09-06 10:00:00', 'paid', '2025-09-06'),
  ('d2000031-0000-0000-0000-000000000031', '11111111-1111-1111-1111-111111111111', 'e0000041-0000-0000-0000-000000000041', 4800, 'transfer', '2025-09-06 10:30:00', 'paid', '2025-09-06'),
  ('d2000032-0000-0000-0000-000000000032', '11111111-1111-1111-1111-111111111111', 'e0000042-0000-0000-0000-000000000042', 4800, NULL, NULL, 'pending', '2025-09-07'),
  -- October payments (陳小睿 already covered above, a few more)
  ('d2000033-0000-0000-0000-000000000033', '11111111-1111-1111-1111-111111111111', 'e0000003-0000-0000-0000-000000000003', 4000, 'cash', '2025-10-02 09:00:00', 'paid', '2025-10-02'),
  ('d2000034-0000-0000-0000-000000000034', '11111111-1111-1111-1111-111111111111', 'e0000008-0000-0000-0000-000000000008', 5000, 'transfer', '2025-10-05 11:00:00', 'paid', '2025-10-05'),
  ('d2000035-0000-0000-0000-000000000035', '11111111-1111-1111-1111-111111111111', 'e0000018-0000-0000-0000-000000000018', 6500, 'transfer', '2025-10-09 10:00:00', 'paid', '2025-10-09')
ON CONFLICT (id) DO NOTHING;

-- ================================================================
-- 9. INCLASS_SCHEDULES (課表 - ~15 entries)
-- ================================================================

INSERT INTO inclass_schedules (id, tenant_id, course_id, teacher_id, day_of_week, start_time, end_time, room, created_at)
VALUES
  -- 國小數學基礎班 (c001) - 王建國 - Mon/Thu
  ('5c000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'c0000001-0000-0000-0000-000000000001', 'a1000005-0000-0000-0000-000000000005', 1, '14:00', '16:00', 'A101', '2025-09-01'),
  ('5c000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'c0000001-0000-0000-0000-000000000001', 'a1000005-0000-0000-0000-000000000005', 4, '14:00', '16:00', 'A101', '2025-09-01'),
  -- 國中數學衝刺班 (c002) - 林志明 - Tue/Fri
  ('5c000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'c0000002-0000-0000-0000-000000000002', 'a1000001-0000-0000-0000-000000000001', 2, '16:00', '18:00', 'A102', '2025-09-01'),
  ('5c000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'c0000002-0000-0000-0000-000000000002', 'a1000001-0000-0000-0000-000000000001', 5, '16:00', '18:00', 'A102', '2025-09-01'),
  -- 國中英文會話班 (c003) - 陳雅婷 - Mon/Wed
  ('5c000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'c0000003-0000-0000-0000-000000000003', 'a1000002-0000-0000-0000-000000000002', 1, '18:00', '20:00', 'B201', '2025-09-01'),
  ('5c000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'c0000003-0000-0000-0000-000000000003', 'a1000002-0000-0000-0000-000000000002', 3, '18:00', '20:00', 'B201', '2025-09-01'),
  -- 高中物理精修班 (c004) - 張偉誠 - Tue/Thu
  ('5c000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'c0000004-0000-0000-0000-000000000004', 'a1000003-0000-0000-0000-000000000003', 2, '19:00', '21:00', 'B202', '2025-09-01'),
  ('5c000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'c0000004-0000-0000-0000-000000000004', 'a1000003-0000-0000-0000-000000000003', 4, '19:00', '21:00', 'B202', '2025-09-01'),
  -- 高中化學精修班 (c005) - 劉佳蓉 - Wed/Sat
  ('5c000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'c0000005-0000-0000-0000-000000000005', 'a1000004-0000-0000-0000-000000000004', 3, '19:00', '21:00', 'C301', '2025-09-01'),
  -- 高中數學進階班 (c006) - 林志明 - Wed/Sat
  ('5c000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'c0000006-0000-0000-0000-000000000006', 'a1000001-0000-0000-0000-000000000001', 3, '14:00', '16:00', 'A102', '2025-09-01'),
  -- 國小英文啟蒙班 (c007) - 黃雅琪 - Tue/Thu
  ('5c000011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', 'c0000007-0000-0000-0000-000000000007', 'a1000008-0000-0000-0000-000000000008', 2, '14:00', '16:00', 'A101', '2025-09-01'),
  ('5c000012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', 'c0000007-0000-0000-0000-000000000007', 'a1000008-0000-0000-0000-000000000008', 4, '14:00', '16:00', 'A101', '2025-09-01'),
  -- 國中理化概念班 (c008) - 許志豪 - Mon/Thu
  ('5c000013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', 'c0000008-0000-0000-0000-000000000008', 'a1000007-0000-0000-0000-000000000007', 1, '16:00', '18:00', 'B201', '2025-09-01'),
  -- 高中國文作文班 (c009) - 蔡淑芬 - Fri
  ('5c000014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', 'c0000009-0000-0000-0000-000000000009', 'a1000006-0000-0000-0000-000000000006', 5, '14:00', '16:00', 'C301', '2025-09-01'),
  -- 國中生物探索班 (c010) - 許志豪 - Wed
  ('5c000015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', 'c0000010-0000-0000-0000-000000000010', 'a1000007-0000-0000-0000-000000000007', 3, '16:00', '18:00', 'B202', '2025-09-01')
ON CONFLICT (id) DO NOTHING;

-- ================================================================
-- 10. INCLASS_ATTENDANCES (~60 records, past 2 weeks)
-- ================================================================

DELETE FROM inclass_attendances WHERE tenant_id = '11111111-1111-1111-1111-111111111111';

INSERT INTO inclass_attendances (id, tenant_id, student_id, course_id, date, status, check_in_time, check_in_method, note, created_at)
VALUES
  -- 陳小睿 (s001) 數學班 c002 - 高出席率
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 8, 'present', CURRENT_TIMESTAMP - INTERVAL '8 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '8 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 6, 'late',    CURRENT_TIMESTAMP - INTERVAL '6 days' + INTERVAL '16 hours' + INTERVAL '12 minutes', 'nfc', '遲到12分鐘', CURRENT_TIMESTAMP - INTERVAL '6 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 4, 'present', CURRENT_TIMESTAMP - INTERVAL '4 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '4 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 1, 'present', CURRENT_TIMESTAMP - INTERVAL '1 day' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '1 day'),
  -- 陳小睿 (s001) 英文班 c003
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 8, 'present', CURRENT_TIMESTAMP - INTERVAL '8 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '8 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 6, 'present', CURRENT_TIMESTAMP - INTERVAL '6 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '6 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 4, 'present', CURRENT_TIMESTAMP - INTERVAL '4 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '4 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 1, 'present', CURRENT_TIMESTAMP - INTERVAL '1 day' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '1 day'),
  -- 其他學生 國中數學衝刺班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '16 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 11, 'absent',  NULL, NULL, '未請假', CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 8, 'present', CURRENT_TIMESTAMP - INTERVAL '8 days' + INTERVAL '16 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '8 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000009-0000-0000-0000-000000000009', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000009-0000-0000-0000-000000000009', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000009-0000-0000-0000-000000000009', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 8, 'leave',   NULL, NULL, '請病假', CURRENT_TIMESTAMP - INTERVAL '8 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '16 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000011-0000-0000-0000-000000000011', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 13, 'late',    CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '16 hours' + INTERVAL '20 minutes', 'nfc', '遲到20分鐘', CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000011-0000-0000-0000-000000000011', 'c0000002-0000-0000-0000-000000000002', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  -- 國中英文會話班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000012-0000-0000-0000-000000000012', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '18 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000012-0000-0000-0000-000000000012', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 11, 'absent',  NULL, NULL, NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000013-0000-0000-0000-000000000013', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000013-0000-0000-0000-000000000013', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '18 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000014-0000-0000-0000-000000000014', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '18 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000014-0000-0000-0000-000000000014', 'c0000003-0000-0000-0000-000000000003', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '18 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  -- 高中物理班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000004-0000-0000-0000-000000000004', CURRENT_DATE - 12, 'present', CURRENT_TIMESTAMP - INTERVAL '12 days' + INTERVAL '19 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '12 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000004-0000-0000-0000-000000000004', CURRENT_DATE - 10, 'present', CURRENT_TIMESTAMP - INTERVAL '10 days' + INTERVAL '19 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '10 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000004-0000-0000-0000-000000000004', CURRENT_DATE - 12, 'present', CURRENT_TIMESTAMP - INTERVAL '12 days' + INTERVAL '19 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '12 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000004-0000-0000-0000-000000000004', CURRENT_DATE - 10, 'absent',  NULL, NULL, '事假', CURRENT_TIMESTAMP - INTERVAL '10 days'),
  -- 國小數學基礎班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000001-0000-0000-0000-000000000001', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '14 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000001-0000-0000-0000-000000000001', CURRENT_DATE - 10, 'present', CURRENT_TIMESTAMP - INTERVAL '10 days' + INTERVAL '14 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '10 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000003-0000-0000-0000-000000000003', 'c0000001-0000-0000-0000-000000000001', CURRENT_DATE - 13, 'present', CURRENT_TIMESTAMP - INTERVAL '13 days' + INTERVAL '14 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000003-0000-0000-0000-000000000003', 'c0000001-0000-0000-0000-000000000001', CURRENT_DATE - 10, 'late',    CURRENT_TIMESTAMP - INTERVAL '10 days' + INTERVAL '14 hours' + INTERVAL '8 minutes', 'manual', '遲到8分鐘', CURRENT_TIMESTAMP - INTERVAL '10 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000004-0000-0000-0000-000000000004', 'c0000001-0000-0000-0000-000000000001', CURRENT_DATE - 13, 'absent',  NULL, NULL, NULL, CURRENT_TIMESTAMP - INTERVAL '13 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000004-0000-0000-0000-000000000004', 'c0000001-0000-0000-0000-000000000001', CURRENT_DATE - 10, 'present', CURRENT_TIMESTAMP - INTERVAL '10 days' + INTERVAL '14 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '10 days'),
  -- 國中生物探索班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', 'c0000010-0000-0000-0000-000000000010', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000011-0000-0000-0000-000000000011', 'c0000010-0000-0000-0000-000000000010', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000012-0000-0000-0000-000000000012', 'c0000010-0000-0000-0000-000000000010', CURRENT_DATE - 11, 'leave',   NULL, NULL, '請假', CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000013-0000-0000-0000-000000000013', 'c0000010-0000-0000-0000-000000000010', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000016-0000-0000-0000-000000000016', 'c0000010-0000-0000-0000-000000000010', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '16 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  -- 高中數學進階班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000006-0000-0000-0000-000000000006', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '14 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000019-0000-0000-0000-000000000019', 'c0000006-0000-0000-0000-000000000006', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '14 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000021-0000-0000-0000-000000000021', 'c0000006-0000-0000-0000-000000000006', CURRENT_DATE - 11, 'absent',  NULL, NULL, NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  -- 高中化學班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000005-0000-0000-0000-000000000005', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '19 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000020-0000-0000-0000-000000000020', 'c0000005-0000-0000-0000-000000000005', CURRENT_DATE - 11, 'present', CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '19 hours', 'nfc', NULL, CURRENT_TIMESTAMP - INTERVAL '11 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000024-0000-0000-0000-000000000024', 'c0000005-0000-0000-0000-000000000005', CURRENT_DATE - 11, 'late',    CURRENT_TIMESTAMP - INTERVAL '11 days' + INTERVAL '19 hours' + INTERVAL '15 minutes', 'manual', '遲到15分鐘', CURRENT_TIMESTAMP - INTERVAL '11 days'),
  -- 國小英文啟蒙班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000007-0000-0000-0000-000000000007', CURRENT_DATE - 12, 'present', CURRENT_TIMESTAMP - INTERVAL '12 days' + INTERVAL '14 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '12 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000005-0000-0000-0000-000000000005', 'c0000007-0000-0000-0000-000000000007', CURRENT_DATE - 12, 'present', CURRENT_TIMESTAMP - INTERVAL '12 days' + INTERVAL '14 hours', 'manual', NULL, CURRENT_TIMESTAMP - INTERVAL '12 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000007-0000-0000-0000-000000000007', 'c0000007-0000-0000-0000-000000000007', CURRENT_DATE - 12, 'absent',  NULL, NULL, NULL, CURRENT_TIMESTAMP - INTERVAL '12 days');

COMMIT;

BEGIN;

-- ================================================================
-- 11. INCLASS_EXAMS (7 exams)
-- ================================================================

INSERT INTO inclass_exams (id, tenant_id, course_id, name, exam_date, total_score, created_at)
VALUES
  ('ee000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'c0000002-0000-0000-0000-000000000002', '段考一(數學)', '2026-01-15 09:00:00', 100, '2026-01-10'),
  ('ee000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'c0000003-0000-0000-0000-000000000003', '段考一(英文)', '2026-01-16 09:00:00', 100, '2026-01-10'),
  ('ee000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'c0000004-0000-0000-0000-000000000004', '段考一(物理)', '2026-01-17 09:00:00', 100, '2026-01-10'),
  ('ee000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'c0000002-0000-0000-0000-000000000002', '小考一(數學)', '2026-02-05 16:00:00', 100, '2026-02-01'),
  ('ee000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'c0000003-0000-0000-0000-000000000003', '小考一(英文)', '2026-02-06 18:00:00', 100, '2026-02-01'),
  ('ee000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'c0000009-0000-0000-0000-000000000009', '段考一(國文)', '2026-02-20 14:00:00', 100, '2026-02-15'),
  ('ee000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'c0000002-0000-0000-0000-000000000002', '小考二(數學)', '2026-02-19 16:00:00', 100, '2026-02-15')
ON CONFLICT (id) DO NOTHING;

-- ================================================================
-- 12. INCLASS_EXAM_SCORES (~50 scores)
-- Key selling point: 陳小睿 improvement trend
-- Math:    段考一78 -> 小考一85 -> 小考二91 (trend up!)
-- English: 段考一82 -> 小考一88 (trend up)
-- ================================================================

DELETE FROM inclass_exam_scores WHERE exam_id IN (
  'ee000001-0000-0000-0000-000000000001',
  'ee000002-0000-0000-0000-000000000002',
  'ee000003-0000-0000-0000-000000000003',
  'ee000004-0000-0000-0000-000000000004',
  'ee000005-0000-0000-0000-000000000005',
  'ee000006-0000-0000-0000-000000000006',
  'ee000007-0000-0000-0000-000000000007'
);

INSERT INTO inclass_exam_scores (id, exam_id, student_id, score, note, created_at)
VALUES
  -- 段考一(數學) ex001 - 陳小睿78, others varied
  (gen_random_uuid(), 'ee000001-0000-0000-0000-000000000001', 'd0000001-0000-0000-0000-000000000001', 78,  NULL,         '2026-01-16'),
  (gen_random_uuid(), 'ee000001-0000-0000-0000-000000000001', 'd0000008-0000-0000-0000-000000000008', 85,  NULL,         '2026-01-16'),
  (gen_random_uuid(), 'ee000001-0000-0000-0000-000000000001', 'd0000009-0000-0000-0000-000000000009', 72,  NULL,         '2026-01-16'),
  (gen_random_uuid(), 'ee000001-0000-0000-0000-000000000001', 'd0000010-0000-0000-0000-000000000010', 91,  NULL,         '2026-01-16'),
  (gen_random_uuid(), 'ee000001-0000-0000-0000-000000000001', 'd0000011-0000-0000-0000-000000000011', 66,  '需加強',     '2026-01-16'),
  (gen_random_uuid(), 'ee000001-0000-0000-0000-000000000001', 'd0000025-0000-0000-0000-000000000025', 79,  NULL,         '2026-01-16'),
  -- 段考一(英文) ex002 - 陳小睿82
  (gen_random_uuid(), 'ee000002-0000-0000-0000-000000000002', 'd0000001-0000-0000-0000-000000000001', 82,  NULL,         '2026-01-17'),
  (gen_random_uuid(), 'ee000002-0000-0000-0000-000000000002', 'd0000012-0000-0000-0000-000000000012', 75,  NULL,         '2026-01-17'),
  (gen_random_uuid(), 'ee000002-0000-0000-0000-000000000002', 'd0000013-0000-0000-0000-000000000013', 88,  NULL,         '2026-01-17'),
  (gen_random_uuid(), 'ee000002-0000-0000-0000-000000000002', 'd0000014-0000-0000-0000-000000000014', 63,  '需加強',     '2026-01-17'),
  (gen_random_uuid(), 'ee000002-0000-0000-0000-000000000002', 'd0000026-0000-0000-0000-000000000026', 70,  NULL,         '2026-01-17'),
  (gen_random_uuid(), 'ee000002-0000-0000-0000-000000000002', 'd0000028-0000-0000-0000-000000000028', 93,  '表現優異',   '2026-01-17'),
  -- 段考一(物理) ex003
  (gen_random_uuid(), 'ee000003-0000-0000-0000-000000000003', 'd0000017-0000-0000-0000-000000000017', 88,  NULL,         '2026-01-18'),
  (gen_random_uuid(), 'ee000003-0000-0000-0000-000000000003', 'd0000018-0000-0000-0000-000000000018', 76,  NULL,         '2026-01-18'),
  (gen_random_uuid(), 'ee000003-0000-0000-0000-000000000003', 'd0000021-0000-0000-0000-000000000021', 94,  '表現優異',   '2026-01-18'),
  -- 小考一(數學) ex004 - 陳小睿85 (進步了！) total=100
  (gen_random_uuid(), 'ee000004-0000-0000-0000-000000000004', 'd0000001-0000-0000-0000-000000000001', 85,  '進步顯著',   '2026-02-06'),
  (gen_random_uuid(), 'ee000004-0000-0000-0000-000000000004', 'd0000008-0000-0000-0000-000000000008', 82,  NULL,         '2026-02-06'),
  (gen_random_uuid(), 'ee000004-0000-0000-0000-000000000004', 'd0000009-0000-0000-0000-000000000009', 68,  '需加強',     '2026-02-06'),
  (gen_random_uuid(), 'ee000004-0000-0000-0000-000000000004', 'd0000010-0000-0000-0000-000000000010', 93,  NULL,         '2026-02-06'),
  (gen_random_uuid(), 'ee000004-0000-0000-0000-000000000004', 'd0000011-0000-0000-0000-000000000011', 60,  '需加強',     '2026-02-06'),
  (gen_random_uuid(), 'ee000004-0000-0000-0000-000000000004', 'd0000025-0000-0000-0000-000000000025', 76,  NULL,         '2026-02-06'),
  -- 小考一(英文) ex005 - 陳小睿88 (進步了！) total=100
  (gen_random_uuid(), 'ee000005-0000-0000-0000-000000000005', 'd0000001-0000-0000-0000-000000000001', 88,  '持續進步',   '2026-02-07'),
  (gen_random_uuid(), 'ee000005-0000-0000-0000-000000000005', 'd0000012-0000-0000-0000-000000000012', 72,  NULL,         '2026-02-07'),
  (gen_random_uuid(), 'ee000005-0000-0000-0000-000000000005', 'd0000013-0000-0000-0000-000000000013', 90,  '表現優異',   '2026-02-07'),
  (gen_random_uuid(), 'ee000005-0000-0000-0000-000000000005', 'd0000014-0000-0000-0000-000000000014', 58,  '需加強',     '2026-02-07'),
  (gen_random_uuid(), 'ee000005-0000-0000-0000-000000000005', 'd0000026-0000-0000-0000-000000000026', 74,  NULL,         '2026-02-07'),
  (gen_random_uuid(), 'ee000005-0000-0000-0000-000000000005', 'd0000028-0000-0000-0000-000000000028', 95,  '表現優異',   '2026-02-07'),
  -- 段考一(國文) ex006
  (gen_random_uuid(), 'ee000006-0000-0000-0000-000000000006', 'd0000022-0000-0000-0000-000000000022', 81,  NULL,         '2026-02-21'),
  (gen_random_uuid(), 'ee000006-0000-0000-0000-000000000006', 'd0000024-0000-0000-0000-000000000024', 76,  NULL,         '2026-02-21'),
  -- 小考二(數學) ex007 - 陳小睿91 (持續進步！完整趨勢 78→85→91)
  (gen_random_uuid(), 'ee000007-0000-0000-0000-000000000007', 'd0000001-0000-0000-0000-000000000001', 91,  '持續進步，表現優異', '2026-02-20'),
  (gen_random_uuid(), 'ee000007-0000-0000-0000-000000000007', 'd0000008-0000-0000-0000-000000000008', 79,  NULL,         '2026-02-20'),
  (gen_random_uuid(), 'ee000007-0000-0000-0000-000000000007', 'd0000009-0000-0000-0000-000000000009', 72,  '有進步',     '2026-02-20'),
  (gen_random_uuid(), 'ee000007-0000-0000-0000-000000000007', 'd0000010-0000-0000-0000-000000000010', 88,  NULL,         '2026-02-20'),
  (gen_random_uuid(), 'ee000007-0000-0000-0000-000000000007', 'd0000011-0000-0000-0000-000000000011', 65,  '需加強',     '2026-02-20'),
  (gen_random_uuid(), 'ee000007-0000-0000-0000-000000000007', 'd0000025-0000-0000-0000-000000000025', 80,  '有進步',     '2026-02-20');

-- ================================================================
-- 13. INCLASS_PARENTS (~15 records)
-- ================================================================

INSERT INTO inclass_parents (id, tenant_id, student_id, name, phone, line_user_id, relation, notify_enabled, created_at)
VALUES
  -- 陳大利 is 陳小睿's father (s001)
  ('da000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', '陳大利',   '0912-888-001', 'U_chen_dali_001',    '父', true, '2025-09-01'),
  ('da000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', '林秀美',   '0923-001-002', 'U_lin_xiumei_002',   '母', true, '2025-09-02'),
  ('da000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'd0000003-0000-0000-0000-000000000003', '黃志明',   '0934-002-003', NULL,                  '父', true, '2025-09-02'),
  ('da000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'd0000004-0000-0000-0000-000000000004', '張淑芬',   '0945-003-004', 'U_zhang_shufen_004', '母', true, '2025-09-03'),
  ('da000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', '蔡明志',   '0989-007-008', 'U_cai_mingzhi_008',  '父', true, '2025-09-05'),
  ('da000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'd0000009-0000-0000-0000-000000000009', '周淑雯',   '0912-008-009', 'U_zhou_shuwen_009',  '母', true, '2025-09-05'),
  ('da000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', '許建國',   '0923-009-010', NULL,                  '父', false,'2025-09-06'),
  ('da000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'd0000011-0000-0000-0000-000000000011', '楊淑美',   '0934-010-011', 'U_yang_shumei_011',  '母', true, '2025-09-06'),
  ('da000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', '徐淑美',   '0912-016-017', 'U_xu_shumei_017',    '母', true, '2025-09-09'),
  ('da000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', '葉志明',   '0923-017-018', 'U_ye_zhiming_018',   '父', true, '2025-09-10'),
  ('da000011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', 'd0000019-0000-0000-0000-000000000019', '莊淑芬',   '0934-018-019', NULL,                  '母', true, '2025-09-10'),
  ('da000012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', 'd0000020-0000-0000-0000-000000000020', '林建仁',   '0945-019-020', 'U_lin_jianren_020',  '父', true, '2025-09-11'),
  ('da000013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', 'd0000025-0000-0000-0000-000000000025', '江淑芬',   '0912-024-025', 'U_jiang_shufen_025', '母', true, '2025-09-13'),
  ('da000014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', 'd0000026-0000-0000-0000-000000000026', '邱志明',   '0923-025-026', NULL,                  '父', false,'2025-09-14'),
  ('da000015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', 'd0000028-0000-0000-0000-000000000028', '盧建仁',   '0945-027-028', 'U_lu_jianren_028',   '父', true, '2025-09-15')
ON CONFLICT (id) DO UPDATE SET
  notify_enabled = EXCLUDED.notify_enabled;

-- ================================================================
-- 14. INCLASS_PAYMENT_RECORDS (~30 records)
-- ================================================================

DELETE FROM inclass_payment_records WHERE tenant_id = '11111111-1111-1111-1111-111111111111';

INSERT INTO inclass_payment_records (id, tenant_id, student_id, course_id, payment_type, amount, period_month, payment_date, status, notes, created_by, created_at)
VALUES
  -- 陳小睿 (s001) - all paid
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-09', '2025-09-01 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '150 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-10', '2025-10-01 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '120 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-11', '2025-11-01 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '90 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2025-09', '2025-09-01 10:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '150 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2025-10', '2025-10-01 10:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '120 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2025-11', '2025-11-01 10:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '90 days'),
  -- s008 數學班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-09', '2025-09-05 11:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '145 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-10', NULL, 'pending', '請盡速繳費', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '30 days'),
  -- s009 數學班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000009-0000-0000-0000-000000000009', 'c0000002-0000-0000-0000-000000000002', 'quarterly', 14500, '2025-09', '2025-09-05 11:30:00', 'paid', '季繳優惠', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '145 days'),
  -- s017 物理班
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000004-0000-0000-0000-000000000004', 'monthly', 6500, '2025-09', '2025-09-09 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '141 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000004-0000-0000-0000-000000000004', 'monthly', 6500, '2025-10', '2025-10-09 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '111 days'),
  -- s018 物理+化學
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000004-0000-0000-0000-000000000004', 'monthly', 6500, '2025-09', '2025-09-10 14:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '140 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000018-0000-0000-0000-000000000018', 'c0000005-0000-0000-0000-000000000005', 'monthly', 6500, '2025-09', '2025-09-10 14:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '140 days'),
  -- s002 國小數學
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000001-0000-0000-0000-000000000001', 'monthly', 4000, '2025-09', '2025-09-02 09:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '148 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000002-0000-0000-0000-000000000002', 'c0000001-0000-0000-0000-000000000001', 'monthly', 4000, '2025-10', '2025-10-02 09:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '118 days'),
  -- s010 數學+生物
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000010-0000-0000-0000-000000000010', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-09', NULL, 'pending', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '60 days'),
  -- s012 英文+生物
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000012-0000-0000-0000-000000000012', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2025-09', '2025-09-07 09:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '143 days'),
  -- s013 英文+生物
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000013-0000-0000-0000-000000000013', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2025-09', '2025-09-07 09:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '143 days'),
  -- s020 化學
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000020-0000-0000-0000-000000000020', 'c0000005-0000-0000-0000-000000000005', 'monthly', 6500, '2025-09', '2025-09-11 09:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '139 days'),
  -- s021 物理+數學
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000021-0000-0000-0000-000000000021', 'c0000006-0000-0000-0000-000000000006', 'monthly', 7000, '2025-09', NULL, 'pending', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '50 days'),
  -- s022 化學+國文
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000022-0000-0000-0000-000000000022', 'c0000009-0000-0000-0000-000000000009', 'monthly', 5500, '2025-09', '2025-09-12 13:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '138 days'),
  -- s025 數學
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000025-0000-0000-0000-000000000025', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2025-09', '2025-09-13 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '137 days'),
  -- s028 英文
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000028-0000-0000-0000-000000000028', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2025-09', '2025-09-15 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '135 days'),
  -- 2026-01 payments
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2026-01', '2026-01-03 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '55 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2026-01', '2026-01-03 10:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '55 days'),
  -- 2026-02 payments (陳小睿 paid, others pending)
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2026-02', '2026-02-03 10:00:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '25 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000001-0000-0000-0000-000000000001', 'c0000003-0000-0000-0000-000000000003', 'monthly', 4500, '2026-02', '2026-02-03 10:30:00', 'paid', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '25 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000008-0000-0000-0000-000000000008', 'c0000002-0000-0000-0000-000000000002', 'monthly', 5000, '2026-02', NULL, 'pending', '請盡速繳費', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '5 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'd0000017-0000-0000-0000-000000000017', 'c0000004-0000-0000-0000-000000000004', 'monthly', 6500, '2026-02', NULL, 'pending', NULL, 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '5 days');

-- ================================================================
-- 15. INCLASS_NFC_CARDS (10 cards for first 10 students)
-- ================================================================

INSERT INTO inclass_nfc_cards (id, tenant_id, card_uid, student_id, is_active, created_at)
VALUES
  ('afc00001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-001', 'd0000001-0000-0000-0000-000000000001', true, '2025-09-01'),
  ('afc00002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-002', 'd0000002-0000-0000-0000-000000000002', true, '2025-09-02'),
  ('afc00003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-003', 'd0000003-0000-0000-0000-000000000003', true, '2025-09-02'),
  ('afc00004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-004', 'd0000004-0000-0000-0000-000000000004', true, '2025-09-03'),
  ('afc00005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-005', 'd0000005-0000-0000-0000-000000000005', true, '2025-09-03'),
  ('afc00006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-006', 'd0000006-0000-0000-0000-000000000006', true, '2025-09-04'),
  ('afc00007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-007', 'd0000007-0000-0000-0000-000000000007', true, '2025-09-04'),
  ('afc00008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-008', 'd0000008-0000-0000-0000-000000000008', true, '2025-09-05'),
  ('afc00009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-009', 'd0000009-0000-0000-0000-000000000009', true, '2025-09-05'),
  ('afc00010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'NFC-AXG-010', 'd0000010-0000-0000-0000-000000000010', true, '2025-09-06')
ON CONFLICT (id) DO NOTHING;

COMMIT;

BEGIN;

-- ================================================================
-- 16. STOCK_CATEGORIES (5 categories)
-- ================================================================

INSERT INTO stock_categories (id, tenant_id, name, description, created_at)
VALUES
  ('5c100001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', '教科書',   '各科目正式教科書',         NOW() - INTERVAL '150 days'),
  ('5c100002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', '參考書',   '補充教材與題庫',           NOW() - INTERVAL '150 days'),
  ('5c100003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', '文具用品', '學生與教師日常文具',       NOW() - INTERVAL '150 days'),
  ('5c100004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', '考卷試題', '模擬考卷與測驗卷',         NOW() - INTERVAL '150 days'),
  ('5c100005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', '教學設備', '白板、投影機等教學器材',   NOW() - INTERVAL '150 days')
ON CONFLICT (id) DO UPDATE SET name = EXCLUDED.name;

-- ================================================================
-- 17. STOCK_WAREHOUSES (3 warehouses matching branches)
-- ================================================================

INSERT INTO stock_warehouses (id, tenant_id, name, address, is_default, created_at)
VALUES
  ('f1000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', '大安總校倉庫', '台北市大安區復興南路二段100號B1', true,  NOW() - INTERVAL '150 days'),
  ('f1000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', '信義分校倉庫', '台北市信義區松仁路50號地下室',   false, NOW() - INTERVAL '150 days'),
  ('f1000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', '板橋分校倉庫', '新北市板橋區文化路一段200號倉儲', false, NOW() - INTERVAL '150 days')
ON CONFLICT (id) DO UPDATE SET name = EXCLUDED.name;

-- ================================================================
-- 18. STOCK_ITEMS (15 items)
-- ================================================================

INSERT INTO stock_items (id, tenant_id, category_id, name, sku, unit, min_stock, price, description, created_at)
VALUES
  -- 教科書 (cat1)
  ('d1000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', '5c100001-0000-0000-0000-000000000001', '國中數學七年級上課本', 'AXG-TXT-MATH-7A', '本', 20, 180, '翰林版國中數學七年級上冊',      NOW() - INTERVAL '150 days'),
  ('d1000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', '5c100001-0000-0000-0000-000000000001', '國中英文八年級上課本', 'AXG-TXT-ENG-8A',  '本', 20, 195, '康軒版國中英文八年級上冊',      NOW() - INTERVAL '150 days'),
  ('d1000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', '5c100001-0000-0000-0000-000000000001', '高中物理上課本',       'AXG-TXT-PHY-10A', '本', 15, 210, '龍騰版高中物理必修一',          NOW() - INTERVAL '150 days'),
  ('d1000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', '5c100001-0000-0000-0000-000000000001', '高中化學上課本',       'AXG-TXT-CHE-10A', '本', 15, 210, '三民版高中化學必修一',          NOW() - INTERVAL '150 days'),
  ('d1000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', '5c100001-0000-0000-0000-000000000001', '國小數學五年級課本',   'AXG-TXT-MATH-5A', '本', 25, 180, '南一版國小數學五年級上冊',      NOW() - INTERVAL '150 days'),
  -- 參考書 (cat2)
  ('d1000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', '5c100002-0000-0000-0000-000000000002', '國中數學題庫精選',     'AXG-REF-MATH-JH', '本', 30, 210, '含解析、700題精選',             NOW() - INTERVAL '150 days'),
  ('d1000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', '5c100002-0000-0000-0000-000000000002', '國中英文會話手冊',     'AXG-REF-ENG-8B',  '本', 25, 120, '含MP3音檔QR Code',              NOW() - INTERVAL '150 days'),
  ('d1000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', '5c100002-0000-0000-0000-000000000002', '高中物理概念圖解',     'AXG-REF-PHY-HS',  '本', 15, 210, '圖解+公式整理',                 NOW() - INTERVAL '150 days'),
  -- 文具用品 (cat3)
  ('d1000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', '5c100003-0000-0000-0000-000000000003', 'A4空白筆記本',         'AXG-STN-NB-A4',   '本', 50, 45,  '80頁無格筆記本',                NOW() - INTERVAL '150 days'),
  ('d1000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', '5c100003-0000-0000-0000-000000000003', '原子筆組合包(10支)',   'AXG-STN-PEN-10',  '組', 40, 78,  '黑/藍/紅各色原子筆',           NOW() - INTERVAL '150 days'),
  ('d1000011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', '5c100003-0000-0000-0000-000000000003', '螢光筆套組(5色)',      'AXG-STN-HL-5C',   '組', 30, 65,  '5色螢光筆套組',                 NOW() - INTERVAL '150 days'),
  -- 考卷試題 (cat4)
  ('d1000012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', '5c100004-0000-0000-0000-000000000004', '國中數學模擬考卷(20份)', 'AXG-EXM-MATH-JH','份', 100, 120, '含答案卷，雙面印刷',            NOW() - INTERVAL '150 days'),
  ('d1000013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', '5c100004-0000-0000-0000-000000000004', '高中物理模擬考卷(20份)', 'AXG-EXM-PHY-HS', '份', 60,  120, '含詳解',                        NOW() - INTERVAL '150 days'),
  -- 教學設備 (cat5)
  ('d1000014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', '5c100005-0000-0000-0000-000000000005', '磁性白板(120x90cm)',   'AXG-EQP-WB-120',  '個', 3,   2500, '可移動式磁性白板附支架',        NOW() - INTERVAL '150 days'),
  ('d1000015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', '5c100005-0000-0000-0000-000000000005', '無線簡報器',           'AXG-EQP-PTR-WL',  '台', 5,   8500, '附USB接收器，有效距離100m',     NOW() - INTERVAL '150 days')
ON CONFLICT (id) DO UPDATE SET name = EXCLUDED.name;

-- ================================================================
-- 19. STOCK_INVENTORY (~30 records across 3 warehouses)
-- ================================================================

DELETE FROM stock_inventory WHERE tenant_id = '11111111-1111-1111-1111-111111111111';

INSERT INTO stock_inventory (id, tenant_id, warehouse_id, item_id, quantity, updated_at)
VALUES
  -- 大安總校 WH-DA (main stock)
  ('a2f00001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000001-0000-0000-0000-000000000001', 45,  NOW() - INTERVAL '2 days'),
  ('a2f00002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000002-0000-0000-0000-000000000002', 38,  NOW() - INTERVAL '3 days'),
  ('a2f00003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000003-0000-0000-0000-000000000003', 22,  NOW() - INTERVAL '5 days'),
  ('a2f00004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000004-0000-0000-0000-000000000004', 18,  NOW() - INTERVAL '5 days'),
  ('a2f00005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000005-0000-0000-0000-000000000005', 60,  NOW() - INTERVAL '2 days'),
  ('a2f00006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000006-0000-0000-0000-000000000006', 72,  NOW() - INTERVAL '1 day'),
  ('a2f00007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000007-0000-0000-0000-000000000007', 55,  NOW() - INTERVAL '4 days'),
  ('a2f00008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000008-0000-0000-0000-000000000008', 14,  NOW() - INTERVAL '6 days'),
  ('a2f00009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000009-0000-0000-0000-000000000009', 120, NOW() - INTERVAL '1 day'),
  ('a2f00010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000010-0000-0000-0000-000000000010', 85,  NOW() - INTERVAL '2 days'),
  ('a2f00011-0000-0000-0000-000000000011', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000011-0000-0000-0000-000000000011', 28,  NOW() - INTERVAL '3 days'),
  -- Near safety stock (alert demo): si012 safety=100, qty=108 - getting close
  ('a2f00012-0000-0000-0000-000000000012', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000012-0000-0000-0000-000000000012', 108, NOW() - INTERVAL '1 day'),
  -- Below safety stock (alert!): si013 safety=60, qty=52
  ('a2f00013-0000-0000-0000-000000000013', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000013-0000-0000-0000-000000000013', 52,  NOW() - INTERVAL '2 days'),
  ('a2f00014-0000-0000-0000-000000000014', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000014-0000-0000-0000-000000000014', 8,   NOW() - INTERVAL '10 days'),
  ('a2f00015-0000-0000-0000-000000000015', '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000015-0000-0000-0000-000000000015', 12,  NOW() - INTERVAL '10 days'),
  -- 信義分校 WH-XY
  ('a2f00016-0000-0000-0000-000000000016', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000001-0000-0000-0000-000000000001', 18,  NOW() - INTERVAL '7 days'),
  ('a2f00017-0000-0000-0000-000000000017', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000002-0000-0000-0000-000000000002', 15,  NOW() - INTERVAL '7 days'),
  ('a2f00018-0000-0000-0000-000000000018', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000006-0000-0000-0000-000000000006', 24,  NOW() - INTERVAL '5 days'),
  ('a2f00019-0000-0000-0000-000000000019', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000009-0000-0000-0000-000000000009', 40,  NOW() - INTERVAL '4 days'),
  ('a2f00020-0000-0000-0000-000000000020', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000010-0000-0000-0000-000000000010', 30,  NOW() - INTERVAL '4 days'),
  -- Near safety stock: si003 safety=15, qty=16
  ('a2f00021-0000-0000-0000-000000000021', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000003-0000-0000-0000-000000000003', 16,  NOW() - INTERVAL '8 days'),
  ('a2f00022-0000-0000-0000-000000000022', '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000012-0000-0000-0000-000000000012', 35,  NOW() - INTERVAL '6 days'),
  -- 板橋分校 WH-BQ
  ('a2f00023-0000-0000-0000-000000000023', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000001-0000-0000-0000-000000000001', 12,  NOW() - INTERVAL '10 days'),
  ('a2f00024-0000-0000-0000-000000000024', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000005-0000-0000-0000-000000000005', 22,  NOW() - INTERVAL '8 days'),
  ('a2f00025-0000-0000-0000-000000000025', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000006-0000-0000-0000-000000000006', 18,  NOW() - INTERVAL '9 days'),
  ('a2f00026-0000-0000-0000-000000000026', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000009-0000-0000-0000-000000000009', 55,  NOW() - INTERVAL '5 days'),
  ('a2f00027-0000-0000-0000-000000000027', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000010-0000-0000-0000-000000000010', 20,  NOW() - INTERVAL '6 days'),
  ('a2f00028-0000-0000-0000-000000000028', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000012-0000-0000-0000-000000000012', 45,  NOW() - INTERVAL '7 days'),
  -- Below safety stock (alert!): si004 safety=15, qty=11
  ('a2f00029-0000-0000-0000-000000000029', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000004-0000-0000-0000-000000000004', 11,  NOW() - INTERVAL '12 days'),
  ('a2f00030-0000-0000-0000-000000000030', '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000007-0000-0000-0000-000000000007', 14,  NOW() - INTERVAL '9 days');

-- ================================================================
-- 20. STOCK_SUPPLIERS (3 suppliers)
-- ================================================================

INSERT INTO stock_suppliers (id, tenant_id, name, contact, phone, email, address, created_at)
VALUES
  ('f2000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', '翰林出版社',   '陳業務',   '02-2700-8888', 'sales@hanlintw.com',    '台北市大安區忠孝東路四段100號', NOW() - INTERVAL '150 days'),
  ('f2000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', '南一書局',     '林業務',   '06-269-8888', 'order@nani.com.tw',     '台南市南區大同路二段200號',   NOW() - INTERVAL '150 days'),
  ('f2000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', '全華圖書',     '王業務',   '02-2262-5666', 'sales@chwa.com.tw',     '新北市土城區中山路200號',     NOW() - INTERVAL '150 days')
ON CONFLICT (id) DO UPDATE SET name = EXCLUDED.name;

-- ================================================================
-- 21. STOCK_PURCHASE_ORDERS + STOCK_PURCHASE_ITEMS (3 orders)
-- ================================================================

INSERT INTO stock_purchase_orders (id, tenant_id, supplier_id, order_number, status, total_amount, order_date, expected_delivery_date, note, created_at)
VALUES
  -- 已完成收貨
  ('f3000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111',
   'f2000001-0000-0000-0000-000000000001',
   'PO-2026-001', 'completed', 15200, NOW() - INTERVAL '30 days', NOW() - INTERVAL '23 days',
   '114學年度第一學期教材補充採購', NOW() - INTERVAL '30 days'),
  -- 已到貨待入庫
  ('f3000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111',
   'f2000003-0000-0000-0000-000000000003',
   'PO-2026-002', 'received', 8400, NOW() - INTERVAL '10 days', NOW() - INTERVAL '3 days',
   '文具用品補充採購', NOW() - INTERVAL '10 days'),
  -- 草稿（尚未送出）
  ('f3000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111',
   'f2000002-0000-0000-0000-000000000002',
   'PO-2026-003', 'draft', NULL, NOW() - INTERVAL '2 days', NOW() + INTERVAL '5 days',
   '第二學期教材預購規劃', NOW() - INTERVAL '2 days')
ON CONFLICT (id) DO NOTHING;

INSERT INTO stock_purchase_items (id, order_id, item_id, quantity, unit_price, received_quantity)
VALUES
  -- PO1 items (completed - received_quantity = quantity)
  (gen_random_uuid(), 'f3000001-0000-0000-0000-000000000001', 'd1000001-0000-0000-0000-000000000001', 50, 180, 50),
  (gen_random_uuid(), 'f3000001-0000-0000-0000-000000000001', 'd1000006-0000-0000-0000-000000000006', 30, 210, 30),
  -- PO2 items (received - received_quantity = 0 pending processing)
  (gen_random_uuid(), 'f3000002-0000-0000-0000-000000000002', 'd1000009-0000-0000-0000-000000000009', 100, 45, 0),
  (gen_random_uuid(), 'f3000002-0000-0000-0000-000000000002', 'd1000010-0000-0000-0000-000000000010', 50,  78, 0),
  -- PO3 items (draft - received_quantity = 0)
  (gen_random_uuid(), 'f3000003-0000-0000-0000-000000000003', 'd1000002-0000-0000-0000-000000000002', 40, 195, 0),
  (gen_random_uuid(), 'f3000003-0000-0000-0000-000000000003', 'd1000013-0000-0000-0000-000000000013', 80, 120, 0);

-- ================================================================
-- 22. STOCK_TRANSACTIONS (~20 transactions)
-- ================================================================

DELETE FROM stock_transactions WHERE tenant_id = '11111111-1111-1111-1111-111111111111';

INSERT INTO stock_transactions (id, tenant_id, warehouse_id, item_id, type, quantity, reference_id, note, operator_id, created_at)
VALUES
  -- purchase_in: PO1 到貨入庫
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000001-0000-0000-0000-000000000001', 'purchase_in',   50, 'f3000001-0000-0000-0000-000000000001', '翰林出版社PO1批次入庫', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '25 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000006-0000-0000-0000-000000000006', 'purchase_in',   30, 'f3000001-0000-0000-0000-000000000001', '翰林出版社PO1批次入庫', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '25 days'),
  -- distribute_out: 發教材給學生
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000001-0000-0000-0000-000000000001', 'distribute_out', 5, NULL, '國中七年級數學衝刺班 陳小睿班級', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '20 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000006-0000-0000-0000-000000000006', 'distribute_out', 8, NULL, '高中數學進階班題庫發放', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '18 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000009-0000-0000-0000-000000000009', 'distribute_out', 10, NULL, '新生筆記本發放', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '15 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000010-0000-0000-0000-000000000010', 'distribute_out', 5, NULL, '教師用原子筆補充', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '12 days'),
  -- transfer: 調撥到分校
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000001-0000-0000-0000-000000000001', 'transfer',      20, 'f1000002-0000-0000-0000-000000000002', '調撥至信義分校', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '28 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000001-0000-0000-0000-000000000001', 'purchase_in',   20, 'f1000001-0000-0000-0000-000000000001', '從大安總校調入', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '28 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000005-0000-0000-0000-000000000005', 'transfer',      15, 'f1000003-0000-0000-0000-000000000003', '調撥至板橋分校', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '22 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000003-0000-0000-0000-000000000003', 'd1000005-0000-0000-0000-000000000005', 'purchase_in',   15, 'f1000001-0000-0000-0000-000000000001', '從大安總校調入', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '22 days'),
  -- adjust: 盤點調整
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000012-0000-0000-0000-000000000012', 'adjust',        -5, NULL, '盤點發現損耗調整', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '8 days'),
  -- PO2 入庫
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000009-0000-0000-0000-000000000009', 'purchase_in',   100, 'f3000002-0000-0000-0000-000000000002', '全華圖書PO2批次入庫', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '5 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000010-0000-0000-0000-000000000010', 'purchase_in',   50, 'f3000002-0000-0000-0000-000000000002', '全華圖書PO2批次入庫', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '5 days'),
  -- recent distributions
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000003-0000-0000-0000-000000000003', 'distribute_out', 8, NULL, '高中物理必修課本發放', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '3 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000002-0000-0000-0000-000000000002', 'd1000006-0000-0000-0000-000000000006', 'distribute_out', 6, NULL, '信義分校數學題庫發放', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '2 days'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000007-0000-0000-0000-000000000007', 'distribute_out', 7, NULL, '英文會話手冊發放', 'a0000001-0000-0000-0000-000000000002', NOW() - INTERVAL '1 day'),
  (gen_random_uuid(), '11111111-1111-1111-1111-111111111111', 'f1000001-0000-0000-0000-000000000001', 'd1000012-0000-0000-0000-000000000012', 'distribute_out', 12, NULL, '模擬考卷統一發放', 'a0000001-0000-0000-0000-000000000001', NOW() - INTERVAL '1 day');

-- ================================================================
-- END OF SEED DATA
-- ================================================================
-- Summary:
--   tenants:                  1
--   branches:                 3
--   users:                    2
--   manage_courses:          10
--   manage_teachers:          8
--   manage_students:         30 (28 active, 2 inactive)
--   manage_enrollments:      44
--   manage_payments:         35
--   inclass_schedules:       15
--   inclass_attendances:     ~60 (fresh dates)
--   inclass_exams:            7
--   inclass_exam_scores:     ~36 (陳小睿 trend: Math 78->85->91, Eng 82->88)
--   inclass_parents:         15
--   inclass_payment_records: ~30
--   inclass_nfc_cards:       10
--   stock_categories:         5
--   stock_items:             15
--   stock_warehouses:         3
--   stock_inventory:         30
--   stock_suppliers:          3
--   stock_purchase_orders:    3
--   stock_purchase_items:     6
--   stock_transactions:      ~18
-- ================================================================

COMMIT;
